{% extends 'base.html' %}

{% block content %}

<a href="{{ url_for('events.createevent') }}" class="btn btn-primary">Create Event</a>

<div class="row justify-content-center">
    <div class="col-12">

        <table id="eventTable"
        data-toggle="table"
        data-filter-control="true"
        data-sortable="true"
        data-pagination="true"
        data-show-columns="true"
        data-show-columns-toggle-all="true"
        data-toolbar="#toolbar"
        data-show-toggle="true"
        data-show-fullscreen="true"
        data-show-export="true"
        data-export-types="['csv', 'excel', 'pdf']"
        data-minimum-count-columns="2"
        data-show-pagination-switch="true"
        data-page-list="[10, 25, 50, 100, all]"
        data-response-handler="responseHandler"
        data-detail-view="true"
        data-detail-view-icon="false"
        data-mobile-responsive="true"
        data-check-on-init="true"
        data-classes="table table-striped table-responsive">

            <thead>
                <th data-field="eventid">Event ID</th>
                <th data-field="name" data-filter-control="input">Name</th>
                <th data-field="year" data-filter-control="select">Year</th>
                <th data-field="start_date" data-filter-control="select">Start Date</th>
                <th data-field="end_date" data-filter-control="select">End Date</th>
                <th data-field="location" data-filter-control="input">Location</th>
                <th data-field="edit">Action</th>
            </thead>
            <tbody>
                {%for event in events %}
                <tr>
                        <td>
                            {{event.id}}
                        </td>
                        <td>
                            {{event.name}}
                        </td>
                        <td> 
                            {{event.year}}
                        </td>
                        <td> 
                            {{event.start_date}}
                        </td>
                        <td> 
                            {{event.end_date}}
                        </td>
                        <td> 
                            {{event.location}}
                        </td>
                        <td>
                            <a class="btn btn-primary" href="{{url_for('events.viewevent', eventid=event.id)}}" role="button">View/Edit</a>
                        </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}